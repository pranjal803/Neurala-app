"use strict";angular.module("clientApp",["ngRoute"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]).constant("appConstants",{serviceBase:"/",serviceSuffix:".do"}).run(["$rootScope",function(a){a.today=new Date}]),angular.module("clientApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("clientApp").controller("LoginCtrl",["$scope","utils","$location",function(a,b,c){a.controls={loginError:!1,message:""},a.doLogin=function(){if(console.log(a),a.controls.loginError=!1,a.loginform.$invalid)return void angular.forEach(a.loginform.$error,function(a){angular.forEach(a,function(a){a.$setTouched(),a.$setDirty()})});var d={email:a.loginform.email.$viewValue,password:a.loginform.password.$viewValue},e=b.definePostService("login")(d);b.handlePromise(e,function(b){console.log(b),"LOGIN_SUCCESS"==b.status?c.path("/"):"INVALID_CREDS"==b.status&&(a.controls.loginError=!0,a.controls.message="Invalid Credentials")})}}]),angular.module("clientApp").controller("RegisterCtrl",["$scope","utils","$location",function(a,b,c){a.controls={registerError:!1,message:""},a.doRegister=function(){if(a.controls.registerError=!1,a.registerform.confirmPassword.$setValidity("match",a.registerform.password.$viewValue==a.registerform.confirmPassword.$viewValue),a.registerform.$invalid)return void angular.forEach(a.registerform.$error,function(a){angular.forEach(a,function(a){a.$setTouched(),a.$setDirty()})});var c={email:a.registerform.email.$viewValue,password:a.registerform.password.$viewValue},d=b.definePostService("register")(c);b.handlePromise(d,function(b){console.log(b),"SIGNUP_SUCCESS"==b.status||"SIGNUP_INVALID"==b.status&&(a.controls.registerError=!0,a.controls.message="User exists")})}}]),angular.module("clientApp").service("utils",["$http","appConstants","$location",function(a,b,c){this.defineGetService=function(c){return function(){return a({method:"GET",url:b.serviceBase+c+b.serviceSuffix})}},this.definePostService=function(c){return function(d){return void 0===d&&(d={}),a({method:"POST",url:b.serviceBase+c+b.serviceSuffix,data:d,headers:{"Content-type":"application/json"}})}},this.handlePromise=function(a,b){a.then(function(a){200==a.status&&b(a.data)})}}]),angular.module("clientApp").run(["$templateCache",function(a){a.put("views/login.html",'<form name="loginform" ng-submit="doLogin()"> <div class="title-section"> <h1><span>Login Here</span></h1> </div> <div class="row"> <div class="form-group col-sm-6"> <label for="exampleInputEmail1">Email address</label> <input type="email" name="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" ng-model="data.email" ng-pattern="/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/" ng-required="true"> <small id="emailHelp" class="form-text text-muted">We\'ll never share your email with anyone else.</small> </div> </div> <div class="row"> <div class="form-group col-sm-6"> <label for="exampleInputPassword1">Password</label> <input type="password" name="password" class="form-control" id="exampleInputPassword1" placeholder="Password" ng-model="data.password" ng-minlength="6" maxlength="25" ng-required="true"> </div> </div> <div class="row"> <div class="form-group col-sm-6"> <button type="submit" class="btn btn-primary">Submit</button> </div> </div> </form>'),a.put("views/main.html",'<div class="jumbotron"> <h1>Welome to Online Product Portal!</h1> <p class="lead"> </p> <p><a class="btn btn-lg btn-success" ng-href="/">Click Me!</a></p> </div>'),a.put("views/register.html",'<form name="registerform" ng-submit="doRegister()"> <div class="title-section"> <h1><span>Register Here</span></h1> </div> <div class="row"> <div class="form-group col-sm-6"> <label for="exampleInputEmail1">Email address</label> <input type="email" name="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" ng-model="data.email" ng-pattern="/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/" ng-required="true"> <small id="emailHelp" class="form-text text-muted">We\'ll never share your email with anyone else.</small> </div> </div> <div class="row"> <div class="form-group col-sm-6"> <label for="exampleInputPassword1">Password</label> <input type="password" name="password" class="form-control" id="exampleInputPassword1" placeholder="Password" ng-model="data.password" ng-minlength="6" maxlength="25" ng-required="true"> </div> </div> <div class="row"> <div class="form-group col-sm-6"> <label for="exampleInputPassword2">Confirm Password</label> <input type="password" name="confirmPassword" class="form-control" id="exampleInputPassword2" placeholder="Confirm Password" ng-model="data.Confirm" ng-minlength="6" maxlength="25" ng-required="true"> </div> </div> <div class="row"> <div class="form-group col-sm-6"> <button type="submit" class="btn btn-primary">Submit</button> </div> </div> </form>')}]);